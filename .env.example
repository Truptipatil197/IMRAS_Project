# ===========================================
# IMRAS Environment Configuration
# ===========================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env file to version control

# ===========================================
# APPLICATION SETTINGS
# ===========================================
NODE_ENV=development
PORT=3000
API_PREFIX=/api/v1
APP_NAME=IMRAS
APP_URL=http://localhost:3000

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=imras_db
DB_USER=root
DB_PASSWORD=your_password

# Database Pool Settings
DB_POOL_MAX=10
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# ===========================================
# JWT AUTHENTICATION
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-refresh-token-secret-different-from-jwt-secret
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# SECURITY SETTINGS
# ===========================================
# CORS Settings
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # max 100 requests per window

# Password Requirements
MIN_PASSWORD_LENGTH=8
PASSWORD_REQUIRES_UPPERCASE=true
PASSWORD_REQUIRES_LOWERCASE=true
PASSWORD_REQUIRES_DIGIT=true
PASSWORD_REQUIRES_SPECIAL=false

# Session Settings
SESSION_SECRET=your-session-secret-key-change-this
SESSION_MAX_AGE=86400000  # 24 hours in milliseconds

# ===========================================
# EMAIL CONFIGURATION
# ===========================================
# Enable/Disable Email Features
EMAIL_ENABLED=false

# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-app-password
EMAIL_FROM=noreply@imras.com
EMAIL_FROM_NAME=IMRAS System

# Email Recipients
ADMIN_EMAIL=admin@imras.com
ALERT_EMAIL=alerts@imras.com

# ===========================================
# REORDER AUTOMATION SETTINGS
# ===========================================
# Enable/Disable Reorder Automation
REORDER_SCHEDULER_ENABLED=true

# Scheduler Settings (in milliseconds)
REORDER_CHECK_INTERVAL=3600000  # 1 hour
REORDER_START_HOUR=8            # 8 AM
REORDER_END_HOUR=18             # 6 PM

# Reorder Rules
DEFAULT_LEAD_TIME_BUFFER=2      # days
DEFAULT_SAFETY_STOCK_DAYS=7     # days

# ===========================================
# ALERT & NOTIFICATION SETTINGS
# ===========================================
# Alert Thresholds
CRITICAL_STOCK_THRESHOLD=0.2    # 20% of reorder point
LOW_STOCK_THRESHOLD=1.0         # At reorder point
EXPIRY_WARNING_DAYS=30          # days before expiry
EXPIRY_CRITICAL_DAYS=7          # days before expiry

# Notification Channels
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_IN_APP_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false

# ===========================================
# FILE UPLOAD SETTINGS
# ===========================================
# Upload Directories
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760          # 10MB in bytes

# Allowed Extensions
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png,gif
ALLOWED_DOCUMENT_EXTENSIONS=pdf,xlsx,csv,docx

# ===========================================
# REPORT SETTINGS
# ===========================================
# Report Generation
REPORTS_DIR=reports
REPORT_RETENTION_DAYS=90

# Export Formats
ENABLE_PDF_EXPORT=true
ENABLE_EXCEL_EXPORT=true
ENABLE_CSV_EXPORT=true

# ===========================================
# LOGGING SETTINGS
# ===========================================
# Log Level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info
LOG_DIR=logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7d
LOG_DATE_PATTERN=YYYY-MM-DD

# Console Logging
LOG_CONSOLE=true
LOG_CONSOLE_LEVEL=debug

# ===========================================
# WAREHOUSE SETTINGS
# ===========================================
# Default Warehouse Configuration
DEFAULT_TIMEZONE=Asia/Kolkata
DEFAULT_CURRENCY=INR
DEFAULT_CURRENCY_SYMBOL=â‚¹

# Location Settings
MAX_LOCATION_DEPTH=5            # Zone > Aisle > Rack > Shelf > Bin
AUTO_GENERATE_LOCATION_CODES=true

# ===========================================
# BARCODE SETTINGS
# ===========================================
# Barcode Generation
BARCODE_FORMAT=code128
BARCODE_PREFIX=IMRAS

# ===========================================
# PAGINATION SETTINGS
# ===========================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ===========================================
# BACKUP SETTINGS
# ===========================================
# Automatic Backups
ENABLE_AUTO_BACKUP=true
BACKUP_SCHEDULE=0 2 * * *       # Cron expression (2 AM daily)
BACKUP_RETENTION_DAYS=30
BACKUP_DIR=backups

# ===========================================
# EXTERNAL API SETTINGS (Future)
# ===========================================
# API Keys for integrations
# EXTERNAL_API_KEY=your-api-key
# EXTERNAL_API_URL=https://api.example.com

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable/Disable Features
FEATURE_BARCODE_SCANNING=true
FEATURE_MOBILE_APP_API=false
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_MULTI_CURRENCY=false
FEATURE_SERIAL_NUMBER_TRACKING=true
FEATURE_BATCH_TRACKING=true
FEATURE_EXPIRY_MANAGEMENT=true

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Debug Mode
DEBUG=false
DEBUG_SQL=false                 # Log all SQL queries

# Mock Data
GENERATE_MOCK_DATA=false
MOCK_DATA_SIZE=small            # small, medium, large

# ===========================================
# PRODUCTION SETTINGS
# ===========================================
# SSL/TLS
USE_HTTPS=false
SSL_KEY_PATH=
SSL_CERT_PATH=

# Clustering
CLUSTER_MODE=false
NUM_WORKERS=4

# ===========================================
# MONITORING & ANALYTICS
# ===========================================
# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=false

# Analytics
ENABLE_ANALYTICS=false
ANALYTICS_KEY=

# ===========================================
# NOTES
# ===========================================
# 1. Generate strong JWT secrets using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 2. Never commit .env file with actual credentials
# 3. Set NODE_ENV=production in production
# 4. Enable HTTPS in production (USE_HTTPS=true)
# 5. Configure proper email credentials for notifications
# 6. Use environment-specific .env files (.env.development, .env.production)